[Script Info]
; Script generated by Aegisub 3.2.2
; http://www.aegisub.org/
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 0
ScaledBorderAndShadow: yes
YCbCr Matrix: TV.601
PlayResX: 1280
PlayResY: 720

[Aegisub Project Garbage]
Audio File: ../uwp79HeroExplorerAddingInCortana_mid.mp4
Video File: ../uwp79HeroExplorerAddingInCortana_mid.mp4
Video AR Mode: 4
Video AR Value: 1.777778
Video Zoom Percent: 0.750000
Scroll Position: 294
Active Line: 300
Video Position: 35197

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,Microsoft YaHei UI,50,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2,2,2,10,10,10,1
Style: UWP,Microsoft YaHei UI,50,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2,2,2,10,10,10,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:00.50,0:00:04.28,UWP,,0,0,0,,Windows 10 新手开发系列\N探索英雄——集成 Cortana\N翻译：@4770K  @陈继民 校对：【】
Dialogue: 0,0:00:06.00,0:00:12.95,UWP,,0,0,0,,OK 这最后一节课将演示如何把 Cortana 融入 app 之中
Dialogue: 0,0:00:13.10,0:00:18.10,UWP,,0,0,0,,我创建了一个简易的例子命名为：Cortana Example.
Dialogue: 0,0:00:18.50,0:00:27.15,UWP,,0,0,0,,这里将尽可能以最简单的方式展示如何把 Cortana 融合进你的 app
Dialogue: 0,0:00:27.15,0:00:31.77,UWP,,0,0,0,,这将是你能找到的最简单的样例 (Bob 迷之自信
Dialogue: 0,0:00:31.77,0:00:33.30,UWP,,0,0,0,,先看看能做哪些事
Dialogue: 0,0:00:33.40,0:00:34.92,UWP,,0,0,0,,Bob: Hey Cortana!
Dialogue: 0,0:00:35.20,0:00:39.54,UWP,,0,0,0,,Bob: 在 example app 里添加一个红色矩形
Dialogue: 0,0:00:40.54,0:00:43.22,UWP,,0,0,0,,Cortana: 好的，正在添加矩形...
Dialogue: 0,0:00:45.22,0:00:46.22,UWP,,0,0,0,,Bob: Hey Cortana!
Dialogue: 0,0:00:47.09,0:00:50.99,UWP,,0,0,0,,Bob: 在 example app 里添加蓝色圆形
Dialogue: 0,0:00:52.83,0:00:54.73,UWP,,0,0,0,,Cortana: 好的，正在添加圆形...
Dialogue: 0,0:00:56.30,0:00:57.55,UWP,,0,0,0,,Bob: Hey Cortana!
Dialogue: 0,0:00:57.55,0:01:02.51,UWP,,0,0,0,,Bob: 在 example app 里添加一个矩形\N【注意这里 Bob 没有指明颜色】
Dialogue: 0,0:01:03.28,0:01:05.71,UWP,,0,0,0,,Cortana: 好的，正在添加矩形...
Dialogue: 0,0:01:07.05,0:01:10.25,UWP,,0,0,0,,希望你注意到了这里有三种场景
Dialogue: 0,0:01:10.26,0:01:13.15,UWP,,0,0,0,,在第一个场景中我指明了颜色和形状
Dialogue: 0,0:01:13.80,0:01:17.06,UWP,,0,0,0,,第二个场景里我指明了颜色和另一种图形
Dialogue: 0,0:01:17.50,0:01:20.43,UWP,,0,0,0,,第三个场景里我只指明了形状
Dialogue: 0,0:01:20.43,0:01:23.23,UWP,,0,0,0,,然后让 Cortana 决定颜色
Dialogue: 0,0:01:24.30,0:01:27.60,UWP,,0,0,0,,由于 Cortana 还不那么“智能”
Dialogue: 0,0:01:27.60,0:01:30.79,UWP,,0,0,0,,你需要提供一些额外的信息给她
Dialogue: 0,0:01:30.79,0:01:32.37,UWP,,0,0,0,,我将在这个视频里展示
Dialogue: 0,0:01:33.40,0:01:36.51,UWP,,0,0,0,,那么让我先演示如何创建这个 app
Dialogue: 0,0:01:36.80,0:01:40.50,UWP,,0,0,0,,一切的开始源于 “语音控制字典”的文件\N【Bob 口误实际上应该是 Voice Command Definition】
Dialogue: 0,0:01:40.80,0:01:46.55,UWP,,0,0,0,,你可以通过它创建语音命令让 Cortana 为你的 app 做出响应
Dialogue: 0,0:01:47.20,0:01:52.00,UWP,,0,0,0,,这里你可以看到我创建了一个 XML 文件
Dialogue: 0,0:02:20.51,0:02:25.20,UWP,,0,0,0,,在命名空间下列举了非常详细的（语音）样式
Dialogue: 0,0:02:25.70,0:02:27.99,UWP,,0,0,0,,过会再讨论怎么找到它（命名空间）
Dialogue: 0,0:02:28.80,0:02:32.36,UWP,,0,0,0,,创建一个配置并命名为：CommandSet
Dialogue: 0,0:02:32.80,0:02:38.70,UWP,,0,0,0,,用来设置你的 app 所支持的语言和地区
Dialogue: 0,0:02:38.70,0:02:41.10,UWP,,0,0,0,,在这里演示的是 英语-美国 版本
Dialogue: 0,0:02:41.64,0:02:47.40,UWP,,0,0,0,,需要注意的是 Cortana 目前并不支持所有语言或者所有有地区
Dialogue: 0,0:02:48.40,0:02:52.25,UWP,,0,0,0,,下一步是添加语言指令前缀
Dialogue: 0,0:02:52.25,0:03:00.25,UWP,,0,0,0,,例如我说：”Hey, Hmm, in example app“ 这样之类的话
Dialogue: 0,0:03:00.25,0:03:06.68,UWP,,0,0,0,,Cortana 在辨析这个特殊的指令前缀
Dialogue: 0,0:03:06.73,0:03:09.70,UWP,,0,0,0,, 这样 Cortana 就能识别到你的 app
Dialogue: 0,0:03:10.17,0:03:12.50,UWP,,0,0,0,,然后把指令传输给你的 app
Dialogue: 0,0:03:12.50,0:03:15.87,UWP,,0,0,0,,防止传输给另一个正在运行的 app
Dialogue: 0,0:03:16.41,0:03:18.31,UWP,,0,0,0,,这里有两组指令
Dialogue: 0,0:03:18.31,0:03:21.61,UWP,,0,0,0,,一个是”添加矩形“另一个是”添加圆形“
Dialogue: 0,0:03:21.92,0:03:27.64,UWP,,0,0,0,,这些命名很重要，因为和后面所讲的代码相关联
Dialogue: 0,0:03:28.70,0:03:32.62,UWP,,0,0,0,,这里有一串 ListenFor 元素
Dialogue: 0,0:03:32.62,0:03:37.70,UWP,,0,0,0,,这会对一句指令的不同表达做出相同的响应
Dialogue: 0,0:03:37.70,0:03:43.77,UWP,,0,0,0,,比如这里仍是对”添加矩形“这一指令的响应
Dialogue: 0,0:03:44.36,0:03:46.99,UWP,,0,0,0,,第一种情况的指令是: "add a rectangle"
Dialogue: 0,0:03:46.99,0:03:51.64,UWP,,0,0,0,,第二种情况的指令是: "add a color rectangle"
Dialogue: 0,0:03:52.00,0:03:57.43,UWP,,0,0,0,,这里被中括号包围的 [a] 很重要
Dialogue: 0,0:03:57.43,0:03:59.32,UWP,,0,0,0,,因为这是个可选词
Dialogue: 0,0:03:59.45,0:04:02.82,UWP,,0,0,0,,这样指令是:"add rectangle"或者:"add a rectangle"都可以被识别
Dialogue: 0,0:04:03.10,0:04:09.20,UWP,,0,0,0,,此外，如果你要加上颜色指令就必须说:"add a color rectangle"
Dialogue: 0,0:04:09.20,0:04:13.80,UWP,,0,0,0,,所以这里我没有用中括号把 a 包围起来
Dialogue: 0,0:04:14.15,0:04:16.10,UWP,,0,0,0,,至此颜色已经被考虑到了
Dialogue: 0,0:04:16.10,0:04:19.90,UWP,,0,0,0,,这里用到了花括号
Dialogue: 0,0:04:20.10,0:04:21.23,UWP,,0,0,0,,往下看
Dialogue: 0,0:04:21.23,0:04:24.98,UWP,,0,0,0,,那有一个标签为”color“的短语列表
Dialogue: 0,0:04:25.45,0:04:28.93,UWP,,0,0,0,,这里可以辨析 红、蓝、黄、绿
Dialogue: 0,0:04:31.50,0:04:37.20,UWP,,0,0,0,,指令中包含上述颜色的都可以被 Cortana 辨析出来
Dialogue: 0,0:04:38.15,0:04:41.23,UWP,,0,0,0,,最后你会注意到有一个 Feedback 指令
Dialogue: 0,0:04:41.23,0:04:44.20,UWP,,0,0,0,,这是 Cortana 辨析之后返回给使用者的内容
Dialogue: 0,0:04:44.50,0:04:49.00,UWP,,0,0,0,,所以她说:"okay, adding a rectangle"或者:"okay, adding a circle"
Dialogue: 0,0:04:49.00,0:04:50.83,UWP,,0,0,0,,事实上这里并没有区别
Dialogue: 0,0:04:50.83,0:04:53.61,UWP,,0,0,0,,除了 圆 或者 方
Dialogue: 0,0:04:53.62,0:04:55.19,UWP,,0,0,0,,然后对应不同响应
Dialogue: 0,0:04:56.20,0:05:00.30,UWP,,0,0,0,,这里还有我没使用的指令如：导航指令
Dialogue: 0,0:05:00.30,0:05:03.96,UWP,,0,0,0,,如果要在一个 app 内跳转到不同页面这会很有用
Dialogue: 0,0:05:03.96,0:05:06.55,UWP,,0,0,0,,这里并不会演示
Dialogue: 0,0:05:06.55,0:05:11.36,UWP,,0,0,0,,这只是个样例提供参考
Dialogue: 0,0:05:11.70,0:05:14.03,UWP,,0,0,0,,为了让你记住这是干什么的
Dialogue: 0,0:05:14.92,0:05:21.40,UWP,,0,0,0,,还有其他元素可以添加进配置里
Dialogue: 0,0:05:21.99,0:05:23.73,UWP,,0,0,0,,如果你想深入学习这里的配置
Dialogue: 0,0:05:23.73,0:05:24.94,UWP,,0,0,0,,你需要这样做
Dialogue: 0,0:05:25.35,0:05:26.42,UWP,,0,0,0,,打开你的浏览器
Dialogue: 0,0:05:29.90,0:05:33.20,UWP,,0,0,0,,转到 dev.windows.com/cortana.
Dialogue: 0,0:05:37.17,0:05:42.62,UWP,,0,0,0,,然后向下滚动到 快速开始区域 选择 Cortana Interactions
Dialogue: 0,0:05:43.80,0:05:49.83,UWP,,0,0,0,,然后你可以访问任意这里的文章
Dialogue: 0,0:05:50.20,0:05:52.92,UWP,,0,0,0,,你会找到样例 XML 文件
Dialogue: 0,0:05:54.50,0:05:57.08,UWP,,0,0,0,,举个例子，在这第一篇文章里
Dialogue: 0,0:05:57.08,0:06:00.38,UWP,,0,0,0,,用 Cortana 语音命令启动前台应用
Dialogue: 0,0:06:00.38,0:06:02.41,UWP,,0,0,0,,这里讨论了 VCD
Dialogue: 0,0:06:02.41,0:06:06.08,UWP,,0,0,0,,也就是 Voice Command Dictionary\N正确的应该是 Voice Command Definition
Dialogue: 0,0:06:06.08,0:06:07.69,UWP,,0,0,0,,然后提供了样例 XML 文件
Dialogue: 0,0:06:07.69,0:06:12.25,UWP,,0,0,0,,事实上我只是复制了一份这里的 XML 文件
Dialogue: 0,0:06:12.96,0:06:16.15,UWP,,0,0,0,,然后自己命名为:"CortanaExampleCommands.xml"
Dialogue: 0,0:06:17.15,0:06:19.72,UWP,,0,0,0,,所以，要是你想访问相关内容
Dialogue: 0,0:06:19.72,0:06:22.03,UWP,,0,0,0,,dev.windows.com/cortana
Dialogue: 0,0:06:22.03,0:06:27.43,UWP,,0,0,0,,然后导航到:"Cortana integrations" 查看里面的文章
Dialogue: 0,0:06:27.50,0:06:32.80,UWP,,0,0,0,,提供了更多指令用于不同场景
Dialogue: 0,0:06:34.15,0:06:40.58,UWP,,0,0,0,,OK，Cortana 辨别出列表内的前缀指令、
Dialogue: 0,0:06:40.58,0:06:45.33,UWP,,0,0,0,,描述性指令之后
Dialogue: 0,0:06:45.70,0:06:48.19,UWP,,0,0,0,,辨别出特定指令
Dialogue: 0,0:06:48.19,0:06:50.82,UWP,,0,0,0,,然后
Dialogue: 0,0:06:50.82,0:06:56.13,UWP,,0,0,0,,确认 app 是否接收到了指令
Dialogue: 0,0:06:56.40,0:07:06.40,UWP,,0,0,0,,现在我将重写一个叫做 OnActivated 的方法
Dialogue: 0,0:07:10.00,0:07:11.04,UWP,,0,0,0,,尤其要注意的是
Dialogue: 0,0:07:11.04,0:07:13.91,UWP,,0,0,0,,需要确认 app 是否被激活
Dialogue: 0,0:07:13.91,0:07:17.15,UWP,,0,0,0,,是否被语音命令所激活
Dialogue: 0,0:07:18.50,0:07:20.72,UWP,,0,0,0,,如果不是就直接返回
Dialogue: 0,0:07:20.72,0:07:28.60,UWP,,0,0,0,,如果是，就要获取传递进来的指令参数
Dialogue: 0,0:07:32.20,0:07:35.63,UWP,,0,0,0,,当我激活了事件
Dialogue: 0,0:07:35.63,0:07:38.99,UWP,,0,0,0,,就构造一个特殊类型的事件形参
Dialogue: 0,0:07:38.99,0:07:43.20,UWP,,0,0,0,,命名为:"VoiceCommandActivatedEventArgs"
Dialogue: 0,0:07:43.20,0:07:49.90,UWP,,0,0,0,,一旦获取了语音指令参数And then once we havethe command args for voice, we can grab off.
Dialogue: 0,0:07:52.89,0:07:59.60,UWP,,0,0,0,,把变量的 Result 属性赋值给 ”speechRecognitionResultand“
Dialogue: 0,0:07:59.60,0:08:03.78,UWP,,0,0,0,,这里可以判断语音对应的是哪个指令
Dialogue: 0,0:08:03.78,0:08:08.92,UWP,,0,0,0,,the entire text, if I wantto parse through it myself.
Dialogue: 0,0:08:08.92,0:08:22.31,UWP,,0,0,0,,除此之外，可以通过识别出的语音指令选择列表内的内容
Dialogue: 0,0:08:23.20,0:08:25.62,UWP,,0,0,0,,注意这里标记的下标
Dialogue: 0,0:08:25.62,0:08:27.75,UWP,,0,0,0,,指向第一个内容
Dialogue: 0,0:08:28.60,0:08:33.45,UWP,,0,0,0,,防止有多个指令同时输入
Dialogue: 0,0:08:33.45,0:08:35.78,UWP,,0,0,0,,而引起混乱
Dialogue: 0,0:08:35.78,0:08:37.39,UWP,,0,0,0,,所以只接收第一个指令
Dialogue: 0,0:08:38.33,0:08:41.29,UWP,,0,0,0,,按部就班继续讲剩下的部分
Dialogue: 0,0:08:41.29,0:08:45.57,UWP,,0,0,0,,这里是讲指令中的颜色拿出来对比
Dialogue: 0,0:08:45.57,0:08:54.41,UWP,,0,0,0,,通过 Semanticinterpretation.Properties 的 color 标签获取
Dialogue: 0,0:08:54.60,0:09:00.85,UWP,,0,0,0,,然后确保返回的是一个 Windows.UI.Color 值
Dialogue: 0,0:09:02.40,0:09:05.92,UWP,,0,0,0,,创建一个引用然后返回 MainPage
Dialogue: 0,0:09:05.92,0:09:09.16,UWP,,0,0,0,,然后接着对语音指令做判断
Dialogue: 0,0:09:09.16,0:09:12.40,UWP,,0,0,0,,是矩形还是圆形
Dialogue: 0,0:09:12.40,0:09:18.20,UWP,,0,0,0,,然后调用一个刚刚提到的 page 下的函数
Dialogue: 0,0:09:19.47,0:09:22.40,UWP,,0,0,0,,并传递被选择的颜色
Dialogue: 0,0:09:22.40,0:09:24.54,UWP,,0,0,0,,回到 MainPage.xaml
Dialogue: 0,0:09:24.71,0:09:29.81,UWP,,0,0,0,,刚创建了两个公有函数
Dialogue: 0,0:09:29.81,0:09:34.00,UWP,,0,0,0,,public void CreateRectangle 和 public void CreateCircle
Dialogue: 0,0:09:34.00,0:09:35.32,UWP,,0,0,0,,这两者本质上是一样的
Dialogue: 0,0:09:37.34,0:09:39.99,UWP,,0,0,0,,获取颜色之后随机向左上方绘图
Dialogue: 0,0:09:41.38,0:09:46.89,UWP,,0,0,0,,然后实例化一个特定的图形
Dialogue: 0,0:09:46.89,0:09:48.40,Default,,0,0,0,,这里是一个圆形
Dialogue: 0,0:09:49.00,0:09:52.10,UWP,,0,0,0,,设定 宽、高、边距 然后填充
Dialogue: 0,0:09:52.30,0:09:57.11,UWP,,0,0,0,,用纯色填充
Dialogue: 0,0:09:57.20,0:10:03.45,UWP,,0,0,0,,然后建立一个子项添加到所创建的 LayoutGrid 里
Dialogue: 0,0:10:03.45,0:10:05.00,UWP,,0,0,0,,很简单不是吗？
Dialogue: 0,0:10:05.35,0:10:08.95,UWP,,0,0,0,,那么把从这个例子里所学到的方法
Dialogue: 0,0:10:08.95,0:10:11.60,UWP,,0,0,0,,把 Cortana 融入进自己的 app里
Dialogue: 0,0:10:13.60,0:10:14.90,Default,,0,0,0,,在这里实际上我要做的事是
Dialogue: 0,0:10:14.90,0:10:17.41,Default,,0,0,0,,先把这个窗口移开
Dialogue: 0,0:10:17.41,0:10:24.53,Default,,0,0,0,,然后打开我们自己的那个应用
Dialogue: 0,0:10:26.40,0:10:30.62,Default,,0,0,0,,第一件事我要做的事添加一个新的项目
Dialogue: 0,0:10:30.62,0:10:33.39,Default,,0,0,0,,我要添加一个Voice Command Dictionary（Voice Command Definition）
Dialogue: 0,0:10:33.39,0:10:36.39,Default,,0,0,0,,滚动下来找到xml文件
Dialogue: 0,0:10:36.39,0:10:40.77,Default,,0,0,0,,命名为 VoiceCommandDictionary.xml
Dialogue: 0,0:10:44.77,0:10:46.98,Default,,0,0,0,,还有一件事是我需要展示给各位的
Dialogue: 0,0:10:48.10,0:10:49.07,Default,,0,0,0,,从之前的那个项目中
Dialogue: 0,0:10:49.07,0:10:50.49,Default,,0,0,0,,让我先把它拖回屏幕中先
Dialogue: 0,0:10:52.23,0:10:56.38,Default,,0,0,0,,有一件事我忘记了，那就是我们需要载入
Dialogue: 0,0:10:56.38,0:10:59.05,Default,,0,0,0,,我们的语音控制字典，在这里我是把它放在了页面载入事件中进行处理
Dialogue: 0,0:11:00.14,0:11:04.55,Default,,0,0,0,,所以我打算用这个
Dialogue: 0,0:11:04.55,0:11:07.75,Default,,0,0,0,, CortanaExampleCommands.xml 文件
Dialogue: 0,0:11:07.75,0:11:12.56,Default,,0,0,0,,I我想把它载入到我的命令定义管理器中
Dialogue: 0,0:11:12.56,0:11:17.17,Default,,0,0,0,,通过调用这个 InstallCommandDefinitionsFromStorageFileAsync 异步方法（实际上就是将vcd文件安装到应用中）
Dialogue: 0,0:11:17.17,0:11:20.31,Default,,0,0,0,,传入这个在上面返回后过的参数
Dialogue: 0,0:11:20.31,0:11:24.93,Default,,0,0,0,,好了，希望这样可能有效
Dialogue: 0,0:11:24.93,0:11:29.10,Default,,0,0,0,,所以我现在想做的是打开之前的
Dialogue: 0,0:11:29.10,0:11:30.25,Default,,0,0,0,,voice command dictionary 文件
Dialogue: 0,0:11:31.46,0:11:33.87,Default,,0,0,0,,然后我打算把它粘贴到我的
Dialogue: 0,0:11:33.87,0:11:36.74,Default,,0,0,0,,新的 VoiceCommandDictionary.xml.
Dialogue: 0,0:11:36.74,0:11:38.80,Default,,0,0,0,,当然了，这些东西全部都得进行修改
Dialogue: 0,0:11:38.80,0:11:45.34,Default,,0,0,0,,我打算设置这个 <CommandPrefix>（命令前缀）为 Hero Explorer
Dialogue: 0,0:11:45.34,0:11:52.72,Default,,0,0,0,,然后<Example>将应该是 Refresh the character list
Dialogue: 0,0:11:55.42,0:11:57.12,Default,,0,0,0,,我只打算留下一个语音命令
Dialogue: 0,0:11:57.12,0:11:59.62,Default,,0,0,0,,它将不会有一个与它相关的参数列表
Dialogue: 0,0:11:59.62,0:12:02.01,Default,,0,0,0,,让我先把它们去掉
Dialogue: 0,0:12:02.01,0:12:03.80,Default,,0,0,0,,这将会是一个很简单的实现
Dialogue: 0,0:12:05.44,0:12:07.71,Default,,0,0,0,,设置命令名为 refresh
Dialogue: 0,0:12:07.71,0:12:11.33,Default,,0,0,0,,<Example> 应该是类似 refresh the character list 这样的
Dialogue: 0,0:12:17.76,0:12:24.45,Default,,0,0,0,,添加一些可选的变量
Dialogue: 0,0:12:24.45,0:12:29.32,Default,,0,0,0,,Refresh [the] character list
Dialogue: 0,0:12:29.32,0:12:36.78,Default,,0,0,0,,或者只是 refresh
Dialogue: 0,0:12:36.78,0:12:43.39,Default,,0,0,0,,[the] characters
Dialogue: 0,0:12:43.39,0:12:46.50,Default,,0,0,0,,我可能想把这个 character 同样变成可选的
Dialogue: 0,0:12:46.50,0:12:48.86,Default,,0,0,0,,我不知道能不能这样做，不过我们还是试一下把
Dialogue: 0,0:12:48.86,0:12:50.97,Default,,0,0,0,,所以你可以保留 fresh list
Dialogue: 0,0:12:50.97,0:12:53.73,Default,,0,0,0,,或者 refresh characters,或者 refresh the list,
Dialogue: 0,0:12:53.73,0:12:56.90,Default,,0,0,0,,或者 refresh the character list,也可以是refresh the characters
Dialogue: 0,0:12:56.90,0:12:58.82,Default,,0,0,0,,这里有许多不同的可能性
Dialogue: 0,0:12:58.82,0:13:02.23,Default,,0,0,0,,而至于cortana的反馈，我希望是 refreshing
Dialogue: 0,0:13:04.60,0:13:05.22,Default,,0,0,0,,the character list
Dialogue: 0,0:13:05.22,0:13:09.55,Default,,0,0,0,,好了，这部分就完成了
Dialogue: 0,0:13:09.55,0:13:12.11,Default,,0,0,0,,下一步我要做的是，转到app.xml
Dialogue: 0,0:13:12.11,0:13:17.15,Default,,0,0,0,,让我们把它打开，然后我要重载一个
Dialogue: 0,0:13:17.15,0:13:21.17,Default,,0,0,0,,你看不到的方法，事实上我只是想要从
Dialogue: 0,0:13:21.17,0:13:25.80,Default,,0,0,0,,这个cortana样例中复制粘贴代码
Dialogue: 0,0:13:25.80,0:13:27.47,Default,,0,0,0,,然后在去掉一些我们并不需要的东西
Dialogue: 0,0:13:30.16,0:13:31.48,Default,,0,0,0,,首先，我肯定不需要颜色
Dialogue: 0,0:13:31.48,0:13:34.86,Default,,0,0,0,,看起来我并没有
Dialogue: 0,0:13:34.86,0:13:35.88,Default,,0,0,0,,合适的引用命名空间
Dialogue: 0,0:13:35.88,0:13:37.47,Default,,0,0,0,,这就好了
Dialogue: 0,0:13:37.47,0:13:39.04,Default,,0,0,0,,删掉它
Dialogue: 0,0:13:39.04,0:13:41.30,Default,,0,0,0,,另外要去掉的就是 spokenColor.
Dialogue: 0,0:13:41.30,0:13:43.16,Default,,0,0,0,,我们并不需要这些东西
Dialogue: 0,0:13:43.16,0:13:44.63,Default,,0,0,0,,尽管删掉它们就可以了
Dialogue: 0,0:13:44.63,0:13:47.62,Default,,0,0,0,,我并不需要实际说的文字
Dialogue: 0,0:13:47.62,0:13:50.70,Default,,0,0,0,,我所需要做的是确保这个语音命令
Dialogue: 0,0:13:50.70,0:13:54.64,Default,,0,0,0,,是我们确实需要的
Dialogue: 0,0:13:54.64,0:13:57.64,Default,,0,0,0,,所以我还可以把很多这些东西都去掉
Dialogue: 0,0:13:58.67,0:14:01.73,Default,,0,0,0,,我只是像确保 voiceCommandName
Dialogue: 0,0:14:01.73,0:14:03.03,Default,,0,0,0,,= "refresh".
Dialogue: 0,0:14:04.32,0:14:05.37,Default,,0,0,0,,这就是它传进来的东西
Dialogue: 0,0:14:05.37,0:14:10.47,Default,,0,0,0,,如果是正确的话
Dialogue: 0,0:14:10.47,0:14:16.13,Default,,0,0,0,,Call public method on our main page. (调用我们首页的公共方法)
Dialogue: 0,0:14:16.13,0:14:18.53,Default,,0,0,0,,稍后我们再来补充这个
Dialogue: 0,0:14:18.53,0:14:20.12,Default,,0,0,0,,但我想先把这些去掉
Dialogue: 0,0:14:20.12,0:14:20.84,Default,,0,0,0,,全部这些
Dialogue: 0,0:14:22.35,0:14:25.49,Default,,0,0,0,,这样大大的简化了我们的应用
Dialogue: 0,0:14:25.49,0:14:27.97,Default,,0,0,0,,所有我们需要的都在这里了
Dialogue: 0,0:14:27.97,0:14:32.12,Default,,0,0,0,,其他不需要的全部除掉了
Dialogue: 0,0:14:32.12,0:14:32.85,Default,,0,0,0,,很好
Dialogue: 0,0:14:35.22,0:14:38.39,Default,,0,0,0,,现在回到 MainPage.xaml.cs 我想要做的是
Dialogue: 0,0:14:38.39,0:14:43.62,Default,,0,0,0,,在页面载入事件中安装
Dialogue: 0,0:14:43.62,0:14:50.44,Default,,0,0,0,,我们的语音命令字典
Dialogue: 0,0:14:51.71,0:14:55.02,Default,,0,0,0,,所以我想我们得在调用
Dialogue: 0,0:14:58.12,0:15:01.21,Default,,0,0,0,,PopulateMarvelCharactersAsync 之前安装完
Dialogue: 0,0:15:02.48,0:15:07.30,Default,,0,0,0,,所以我们粘贴之前哪些代码到这里，然后修改一下文件名
Dialogue: 0,0:15:07.30,0:15:10.29,Default,,0,0,0,,需要改成 VoiceCommandDictionary.xml
Dialogue: 0,0:15:10.29,0:15:14.55,Default,,0,0,0,,除此以外其他东西可以不做改动
Dialogue: 0,0:15:16.73,0:15:20.83,Default,,0,0,0,,但我还需要创建一些东西
Dialogue: 0,0:15:20.83,0:15:25.21,Default,,0,0,0,,方便我们在 app.xaml.cs 中的 OnActivated 事件中调用
Dialogue: 0,0:15:25.21,0:15:29.50,Default,,0,0,0,,所以我需要做一些决策
Dialogue: 0,0:15:29.50,0:15:33.72,Default,,0,0,0,,我想我可以
Dialogue: 0,0:15:33.72,0:15:39.10,Default,,0,0,0,,封装一下这些东西
Dialogue: 0,0:15:39.10,0:15:40.68,Default,,0,0,0,,实际上，让我把这些代码剪切掉
Dialogue: 0,0:15:41.89,0:15:46.41,Default,,0,0,0,,封装到一个方法里
Dialogue: 0,0:15:46.41,0:15:47.27,Default,,0,0,0,,命名为refresh.
Dialogue: 0,0:15:49.20,0:15:49.77,Default,,0,0,0,,就这样做把！
Dialogue: 0,0:15:49.77,0:15:53.93,Default,,0,0,0,,public async
Dialogue: 0,0:15:53.93,0:15:58.72,Default,,0,0,0,,void Refresh()
Dialogue: 0,0:15:58.72,0:16:01.15,Default,,0,0,0,,它几乎做了全部的工作
Dialogue: 0,0:16:02.48,0:16:04.88,Default,,0,0,0,,然后再在这里调用 refresh 方法
Dialogue: 0,0:16:09.21,0:16:12.18,Default,,0,0,0,,这也提醒了我们需要创建一些
Dialogue: 0,0:16:12.19,0:16:14.75,Default,,0,0,0,,ui元素让我们可以单击刷新
Dialogue: 0,0:16:14.75,0:16:17.87,Default,,0,0,0,,但在这个视频中，我们不会这样做
Dialogue: 0,0:16:17.87,0:16:20.70,Default,,0,0,0,,甚至在这个系列视频中
Dialogue: 0,0:16:20.70,0:16:22.52,Default,,0,0,0,,好了，这样看起来不错
Dialogue: 0,0:16:22.52,0:16:25.43,Default,,0,0,0,,让我确保一下可以编译成功
Dialogue: 0,0:16:30.38,0:16:32.21,Default,,0,0,0,,希望我没有遗漏掉什么
Dialogue: 0,0:16:32.21,0:16:34.87,Default,,0,0,0,,我想我们的状态很好，让我们确保一下
Dialogue: 0,0:16:34.87,0:16:38.70,Default,,0,0,0,,对了，我们需要回到 App.xaml.cs, 就是这个
Dialogue: 0,0:16:38.70,0:16:42.39,Default,,0,0,0,,调用 page.Refresh();
Dialogue: 0,0:16:42.39,0:16:44.59,Default,,0,0,0,,对！
Dialogue: 0,0:16:44.59,0:16:45.76,Default,,0,0,0,,让我们除掉这个
Dialogue: 0,0:16:45.76,0:16:47.71,Default,,0,0,0,,还有这个（强迫症不要砸屏幕啊！！）
Dialogue: 0,0:16:47.71,0:16:48.58,Default,,0,0,0,,好了
Dialogue: 0,0:16:48.59,0:16:52.89,Default,,0,0,0,,实际上还有这个也是可以去掉的
Dialogue: 0,0:16:52.89,0:16:55.38,Default,,0,0,0,,好了，很好
Dialogue: 0,0:16:55.39,0:16:59.17,Default,,0,0,0,,好了，让我跑一下这个应用，看看实际效果如何
Dialogue: 0,0:16:59.17,0:17:01.22,Default,,0,0,0,,回到我们的本地机器
Dialogue: 0,0:17:04.51,0:17:05.55,Default,,0,0,0,,运行应用
Dialogue: 0,0:17:09.75,0:17:12.84,Default,,0,0,0,,看起来这次是从 New Warriors 开始的
Dialogue: 0,0:17:12.84,0:17:14.68,Default,,0,0,0,,从那到这
Dialogue: 0,0:17:14.68,0:17:15.96,Default,,0,0,0,,好了，开始吧
Dialogue: 0,0:17:15.96,0:17:16.64,Default,,0,0,0,,Hey, Cortana.
Dialogue: 0,0:17:20.22,0:17:22.58,Default,,0,0,0,,In Hero Explorer,refresh the characters.
Dialogue: 0,0:17:24.85,0:17:26.05,Default,,0,0,0,,cortana： Refreshingthe character list
Dialogue: 0,0:17:30.64,0:17:32.42,Default,,0,0,0,,好了，出问题了，并没有刷新
Dialogue: 0,0:17:32.42,0:17:34.54,Default,,0,0,0,,让我们放个断点在这里
Dialogue: 0,0:17:34.54,0:17:37.32,Default,,0,0,0,,看看程序有没有进入这个 OnActivated 事件里
Dialogue: 0,0:17:37.32,0:17:41.91,Default,,0,0,0,,Bob叔调bug时间。。。
Dialogue: 0,0:17:43.57,0:17:44.57,Default,,0,0,0,,好了，我发现问题了
Dialogue: 0,0:17:44.57,0:17:47.54,Default,,0,0,0,,我们已经有了10个角色了
Dialogue: 0,0:17:47.54,0:17:48.71,Default,,0,0,0,,是逻辑上出了一点错误
Dialogue: 0,0:17:48.71,0:17:50.20,Default,,0,0,0,,这不是大问题
Dialogue: 0,0:17:50.20,0:17:55.36,Default,,0,0,0,,调用一下 MarvelCharacters.Clear();
Dialogue: 0,0:17:55.36,0:17:57.75,Default,,0,0,0,,这也应该就可以修复这个bug了
Dialogue: 0,0:17:57.75,0:17:59.06,Default,,0,0,0,,让我们把设的断点去掉
Dialogue: 0,0:18:01.25,0:18:03.80,Default,,0,0,0,,然后我们就可以继续下一步了
Dialogue: 0,0:18:03.80,0:18:05.67,Default,,0,0,0,,希望这次可以成功 //误 程序员一大错觉：这次应该行了
Dialogue: 0,0:18:09.93,0:18:12.97,Default,,0,0,0,,Hey Cortana.
Dialogue: 0,0:18:12.97,0:18:17.47,Default,,0,0,0,,In hero explorer,refresh the character list.
Dialogue: 0,0:18:17.47,0:18:18.57,Default,,0,0,0,,cortana： Sure thing
Dialogue: 0,0:18:18.57,0:18:19.71,Default,,0,0,0,,Refreshing the character list
Dialogue: 0,0:18:19.71,0:18:21.94,Default,,0,0,0,,好了，我们的列表从 death bird 开始
Dialogue: 0,0:18:21.94,0:18:22.90,Default,,0,0,0,,全部数据都没了
Dialogue: 0,0:18:24.34,0:18:25.13,Default,,0,0,0,,然后我们添加新的角色
Dialogue: 0,0:18:29.30,0:18:30.84,Default,,0,0,0,,好了，你可以看到，它成功了
Dialogue: 0,0:18:30.84,0:18:32.01,Default,,0,0,0,,好了，很好
Dialogue: 0,0:18:32.01,0:18:34.00,Default,,0,0,0,,所以cortana的整合其实是很容易的
Dialogue: 0,0:18:34.00,0:18:37.19,Default,,0,0,0,,特别是当你弄清楚它的逻辑后
Dialogue: 0,0:18:37.19,0:18:41.27,Default,,0,0,0,,你一定可以去扩展当前的这个项目的
Dialogue: 0,0:18:41.27,0:18:43.43,Default,,0,0,0,,我只是给你们展示了简单的场景
Dialogue: 0,0:18:43.43,0:18:45.31,Default,,0,0,0,,这个应用已经在运行了
Dialogue: 0,0:18:45.31,0:18:48.32,Default,,0,0,0,,这里其实还有另外的场景可以被创建
Dialogue: 0,0:18:48.32,0:18:50.78,Default,,0,0,0,,一个后台程序保持监听
Dialogue: 0,0:18:50.78,0:18:52.78,Default,,0,0,0,,即使你的应用没有在运行
Dialogue: 0,0:18:52.78,0:18:54.86,Default,,0,0,0,,还可以运行你的程序
Dialogue: 0,0:18:54.86,0:18:59.72,Default,,0,0,0,,给它一个cortana命令让用户与cortana对话
Dialogue: 0,0:19:00.82,0:19:02.84,Default,,0,0,0,,再一次，更高级的例子
Dialogue: 0,0:19:02.84,0:19:06.47,Default,,0,0,0,,你可以在github上面
Dialogue: 0,0:19:07.61,0:19:08.61,Default,,0,0,0,,找到通用windows应用demo
Dialogue: 0,0:19:08.61,0:19:10.58,Default,,0,0,0,,链接我会在下个视频中给出
Dialogue: 0,0:19:10.58,0:19:13.54,Default,,0,0,0,,事实上，这是一个很好的到下个视频的过渡
Dialogue: 0,0:19:13.54,0:19:14.69,Default,,0,0,0,,我们要好好的总结一下这个系列的视频
Dialogue: 0,0:19:14.69,0:19:16.16,Default,,0,0,0,,我会给各位一些地方
Dialogue: 0,0:19:16.16,0:19:20.87,Default,,0,0,0,,可以找到好的或者更好的资源（开车？？）
Dialogue: 0,0:19:20.87,0:19:23.21,Default,,0,0,0,,比如，如何简单整合cortana
Dialogue: 0,0:19:23.21,0:19:25.69,Default,,0,0,0,,你会发现
Dialogue: 0,0:19:25.69,0:19:27.49,Default,,0,0,0,,人们想要它们的应用中有这种整合
Dialogue: 0,0:19:27.49,0:19:29.30,Default,,0,0,0,,这是一个目前
Dialogue: 0,0:19:29.30,0:19:31.59,Default,,0,0,0,,微软最酷的一个特性
Dialogue: 0,0:19:31.59,0:19:33.26,Default,,0,0,0,,好了，我们还是下一节课再总结把
Dialogue: 0,0:19:33.26,0:19:34.40,Default,,0,0,0,,下一次见
Dialogue: 0,0:19:34.40,0:19:34.90,Default,,0,0,0,,谢谢
